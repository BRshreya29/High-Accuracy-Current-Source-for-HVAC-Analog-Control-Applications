Version 4
SHEET 1 1576 680
WIRE -688 -528 -752 -528
WIRE -688 -496 -688 -528
WIRE -752 -352 -752 -528
WIRE -752 -352 -1056 -352
WIRE -624 -352 -752 -352
WIRE -416 -272 -576 -272
WIRE -832 -256 -944 -256
WIRE -656 -256 -672 -256
WIRE -832 -224 -976 -224
WIRE -656 -224 -656 -256
WIRE -656 -224 -672 -224
WIRE -576 -224 -576 -272
WIRE -576 -224 -656 -224
WIRE -544 -224 -576 -224
WIRE 560 -224 208 -224
WIRE 688 -224 640 -224
WIRE -976 -208 -976 -224
WIRE 208 -208 208 -224
WIRE 208 -208 48 -208
WIRE -1056 -192 -1056 -352
WIRE -624 -192 -624 -352
WIRE -624 -192 -672 -192
WIRE -624 -128 -624 -192
WIRE -624 -128 -880 -128
WIRE -1056 -80 -1056 -112
WIRE -1056 -80 -1136 -80
WIRE -976 -80 -976 -128
WIRE -880 -80 -880 -128
WIRE -880 -80 -976 -80
WIRE -1056 -64 -1056 -80
WIRE 336 -16 336 -96
WIRE 208 0 208 -208
WIRE 304 0 208 0
WIRE -496 16 -672 16
WIRE -416 16 -416 -272
WIRE 688 16 688 -224
WIRE 688 16 368 16
WIRE -1056 32 -1056 16
WIRE -496 32 -496 16
WIRE -448 32 -496 32
WIRE 304 32 208 32
WIRE -80 48 -384 48
WIRE 80 48 0 48
WIRE 208 48 208 32
WIRE 208 48 80 48
WIRE -1136 64 -1136 -80
WIRE -672 64 -672 16
WIRE -672 64 -1136 64
WIRE -448 64 -496 64
WIRE -496 96 -496 64
WIRE -496 96 -784 96
WIRE 80 112 80 48
WIRE 336 144 336 48
WIRE -784 176 -784 96
FLAG -784 256 0
FLAG 336 224 0
FLAG 336 -176 0
FLAG 80 176 0
FLAG -32 -208 0
FLAG -416 80 0
FLAG -688 -416 0
FLAG -896 -192 0
FLAG -1056 32 0
FLAG -544 -160 0
FLAG -944 -256 0
SYMBOL voltage -784 160 R0
WINDOW 3 -153 130 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1.8 0 5n 5n 1000u 1000u)
SYMATTR InstName V_control
SYMBOL voltage 336 -80 R180
WINDOW 0 -208 62 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Power_Supply
SYMATTR Value 5
SYMBOL voltage 336 128 R0
WINDOW 0 39 50 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Power_Supply_0
SYMATTR Value 0
SYMBOL res 16 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10000
SYMATTR SpiceLine tol=5
SYMBOL polcap 64 112 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 15µ
SYMATTR InstName C1
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=4 Irms=560m Rser=0.2 Lser=0 mfg="Vishay" pn="T55P156M004" type="Tantalum Polymer"
SYMBOL res 64 -224 R90
WINDOW 0 -15 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_sense
SYMATTR Value 3300
SYMATTR SpiceLine tol=1
SYMBOL res 656 -240 R90
WINDOW 0 -13 50 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_load
SYMATTR Value 500
SYMATTR SpiceLine tol=5
SYMBOL OpAmps\\AD8574 336 -48 R0
SYMATTR InstName U1
SYMBOL res -1072 -208 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res -1072 -80 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL voltage -688 -512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL MAX6070_33 -752 -224 R0
WINDOW 3 28 54 Top 2
SYMATTR InstName U3
SYMBOL res -992 -224 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL cap -832 -208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMBOL cap -560 -224 R0
SYMATTR InstName C3
SYMATTR Value 2.2µ
SYMBOL OpAmps\\AD8031 -416 -16 R0
SYMATTR InstName U4
TEXT 352 -488 Left 2 !.tran 3s
TEXT 352 -576 Left 2 ;.param Ton=10u
TEXT 352 -544 Left 2 ;.step param Ton 10u 100u 10u\n.step param run 0 1 1
TEXT -120 -728 Left 2 ;Op-Amp Tested:\n1. AD8675\n2. AD8628\n3. OPA192\n4. ADA4522-1\n5. OPA387\n6. MAX4230\n7. AD8040\n8. OPA4342
TEXT -400 384 Left 2 ;.inc OPAx387.LIB
TEXT -400 352 Left 2 ;.inc OPAx192.LIB
TEXT -104 344 Left 2 ;.func wc(nom,tol,index) if(run==numruns,nom,if(binary(run,index),nom*(1+tol),nom*(1-tol)))
TEXT -104 376 Left 2 ;.func binary(run,index) floor(run/(2**index))-2*floor(run/(2**(index+1)))
TEXT 936 -176 Left 2 ;.param tola 0.05
TEXT 896 -488 Left 2 !.meas TRAN V_rsense AVG V(n003) FROM 3 TO 4\n.meas TRAN I_rsense AVG I(R_sense) FROM 3 TO 4\n.meas TRAN R_sense_calc PARAM V_rsense / I_rsense
TEXT 896 -400 Left 2 !.meas TRAN V_rload AVG V(N004) - V(N003) FROM 3 TO 4\n.meas TRAN Iload AVG I(R_load) FROM 3 TO 4\n.meas TRAN R_load_calc PARAM V_rload / Iload\n \n.meas TRAN V_dc AVG V(n007) FROM 3 TO 4
TEXT -960 -584 Left 2 !.measure TRAN PulseWidth WHEN V(n010) > 2 RISE=1 FALL=1\n.measure TRAN PulseWidthvref WHEN V(n009) > 2 RISE=1 FALL=1
